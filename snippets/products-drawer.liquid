{% comment %}
  Renders products drawer
  
  Usage:
  {% render 'products-drawer' %}
{% endcomment %}

<script src="{{ 'products-drawer.js' | asset_url }}" defer="defer"></script>

<products-drawer class="twcss-invisible">
  <div id="ProductsDrawer" class="twcss-cart-drawer">
    <div id="ProductsDrawer-Overlay" class="twcss-fixed twcss-inset-0 twcss-bg-black/50 twcss-opacity-0 twcss-invisible"></div>
    <div
      class="twcss-drawer-inner twcss-fixed twcss-top-0 twcss-right-0 twcss-h-full twcss-w-[400px] twcss-bg-white twcss-transform twcss-translate-x-full twcss-transition-transform twcss-duration-300 twcss-ease-in-out twcss-z-50"
      role="dialog"
      aria-modal="true"
      aria-label="Products"
      tabindex="-1"
    >
      <div class="drawer__header twcss-flex twcss-justify-between twcss-items-center twcss-p-4 twcss-border-b">
        <h2 class="drawer__heading">Products</h2>
        <button
          class="drawer__close"
          type="button"
          onclick="this.closest('products-drawer').close()"
          aria-label="{{ 'accessibility.close' | t }}"
        >
          <span class="svg-wrapper">
            {{- 'icon-close.svg' | inline_asset_content -}}
          </span>
        </button>
      </div>

      <div class="drawer__contents twcss-p-4">
        {% comment %} Add your products listing content here {% endcomment %}
        <div class="products-list">
          {% for product in collections.all.products limit: 10 %}
            <div class="product-item twcss-flex twcss-items-center twcss-gap-4 twcss-mb-4 twcss-p-2 twcss-border-b">
              <img 
                src="{{ product.featured_image | image_url: width: 100 }}"
                alt="{{ product.title }}"
                class="twcss-w-20 twcss-h-20 twcss-object-cover"
                width="100"
                height="100"
              >
              <div>
                <h3 class="twcss-font-medium">{{ product.title }}</h3>
                <p class="twcss-text-gray-600">{{ product.price | money }}</p>
              </div>
            </div>
          {% endfor %}
        </div>
      </div>
    </div>
  </div>
</products-drawer>
