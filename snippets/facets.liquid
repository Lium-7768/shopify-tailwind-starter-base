<div class="twcss-w-full">
  <div class="twcss-flex twcss-flex-col twcss-gap-4">
    <!-- Header with Clear All -->
    <div class="twcss-flex twcss-justify-between twcss-items-center">
      <h2 class="twcss-text-lg twcss-font-medium">Filter by</h2>
      <button class="twcss-text-sm twcss-text-gray-500 hover:twcss-text-gray-700">Clear All</button>
    </div>

    <!-- Filter Groups -->
    {%- for filter in results.filters -%}
      <div class="twcss-border-t twcss-border-gray-200 twcss-pt-4">
        <details class="twcss-group">
          <summary class="twcss-flex twcss-justify-between twcss-items-center twcss-cursor-pointer">
            <span class="twcss-text-sm twcss-font-medium">{{ filter.label }}</span>
            <svg
              class="twcss-w-5 twcss-h-5 twcss-text-gray-500 twcss-transform group-open:twcss-rotate-180"
              fill="none"
              viewBox="0 0 24 24"
              stroke="currentColor"
            >
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
            </svg>
          </summary>

          <div class="twcss-pt-4 twcss-pb-2">
            <!-- Search Input -->
            <div class="twcss-relative twcss-mb-4">
              <input
                type="text"
                class="twcss-w-full twcss-pl-8 twcss-pr-3 twcss-py-2 twcss-text-sm twcss-border twcss-border-gray-300 twcss-rounded-md"
                placeholder="Search"
              >
              <svg
                class="twcss-absolute twcss-left-2.5 twcss-top-2.5 twcss-w-4 twcss-h-4 twcss-text-gray-400"
                fill="none"
                viewBox="0 0 24 24"
                stroke="currentColor"
              >
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" />
              </svg>
            </div>

            <!-- Filter Options -->
            <div class="twcss-space-y-2 twcss-max-h-60 twcss-overflow-y-auto">
              {%- for value in filter.values -%}
                <label class="twcss-flex twcss-items-center twcss-space-x-3 twcss-cursor-pointer">
                  <input
                    type="checkbox"
                    name="{{ value.param_name }}"
                    value="{{ value.value }}"
                    {% if value.active %}
                      checked
                    {% endif %}
                    class="twcss-rounded twcss-border-gray-300 twcss-text-blue-600 focus:twcss-ring-blue-500"
                  >
                  <span class="twcss-text-sm twcss-text-gray-600"> {{ value.label }} ({{ value.count }}) </span>
                </label>
              {%- endfor -%}
            </div>
          </div>
        </details>
      </div>
    {%- endfor -%}
  </div>
</div>
