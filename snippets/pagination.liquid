<!-- Middle Section - Pagination -->
<div class='twcss-flex twcss-items-center twcss-gap-4'>
  {%- if show_per_page -%}
    <form method='get' action='{{ request.path }}' class='twcss-flex twcss-items-center twcss-gap-2'>
      <span class='twcss-text-gray-600 twcss-text-[14px]'>Per page:</span>
      <select
        name='view'
        class='twcss-border twcss-border-gray-300 twcss-rounded twcss-px-2 twcss-py-1'
        onchange='this.form.submit()'
      >
        {% assign per_page_options = '8,12,16,20,24' | split: ',' %}
        {% for option in per_page_options %}
          <option
            value='{{ option }}'
            {% if request.parameters.view == option %}
              selected
            {% endif %}
          >
            {{ option }}
          </option>
        {% endfor %}
      </select>
      {% if request.parameters.sort_by %}
        <input type='hidden' name='sort_by' value='{{ request.parameters.sort_by }}'>
      {% endif %}
    </form>
  {%- endif -%}

  <span class='twcss-text-gray-600 twcss-text-[14px]'>
    <span class='twcss-font-bold twcss-text-[14px]'>
      {{- paginate.current_offset | plus: 1 }}-
      {{- paginate.current_offset | plus: paginate.page_size | at_most: paginate.items -}}
    </span>
    of <span class='twcss-font-bold twcss-text-[14px]'>{{ paginate.items }}</span> Records
  </span>
  <div class='twcss-flex twcss-items-center twcss-gap-2'>
    {% if paginate.current_page > 1 %}
      <a
        href='{{ paginate.previous.url }}{% if current_per_page != section.settings.products_per_page %}&per_page={{ current_per_page }}{% endif %}'
        class='twcss-flex twcss-h-11 twcss-items-center twcss-px-3 twcss-py-1 twcss-gap-2 twcss-text-gray-600 twcss-bg-white twcss-border twcss-border-gray-300 twcss-rounded hover:twcss-bg-gray-50'
      >
        {% render 'icon-chevron-left' %}
        <span class='twcss-text-[14px] twcss-font-bold'>Prev</span>
      </a>
    {% else %}
      <button
        disabled
        class='twcss-flex twcss-h-11 twcss-items-center twcss-px-3 twcss-py-1 twcss-gap-2 twcss-text-gray-400 twcss-bg-gray-100 twcss-border twcss-border-gray-300 twcss-rounded'
      >
        {% render 'icon-chevron-left' %}
        <span class='twcss-text-[14px] twcss-font-bold'>Prev</span>
      </button>
    {% endif %}

    <span class='twcss-text-gray-600'> {{ paginate.current_page }} of {{ paginate.pages }} </span>

    {% if paginate.next %}
      <a
        href='{{ paginate.next.url }}{% if current_per_page != section.settings.products_per_page %}&per_page={{ current_per_page }}{% endif %}'
        class='twcss-flex twcss-items-center twcss-h-11 twcss-px-3 twcss-py-1 twcss-gap-2 twcss-text-gray-600 twcss-bg-white twcss-border twcss-border-gray-300 twcss-rounded hover:twcss-bg-gray-50'
      >
        <span class='twcss-text-[14px] twcss-font-bold'>Next</span>
        {% render 'icon-chevron-right', class: 'twcss-h-6 twcss-w-6' %}
      </a>
    {% else %}
      <button
        disabled
        class='twcss-flex twcss-items-center twcss-h-11 twcss-px-3 twcss-py-1 twcss-gap-2 twcss-text-gray-400 twcss-bg-gray-100 twcss-border twcss-border-gray-300 twcss-rounded'
      >
        <span class='twcss-text-[14px] twcss-font-bold'>Next</span>
        {% render 'icon-chevron-right' %}
      </button>
    {% endif %}
  </div>
</div>
