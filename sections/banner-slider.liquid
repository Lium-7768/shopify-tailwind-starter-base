<div class="banner-slider swiper">
  <div class="swiper-wrapper">
    {%- for block in section.blocks -%}
      <div class="swiper-slide relative h-[400px] md:h-[600px]" {{ block.shopify_attributes }}>
        <div class="w-full h-full">
          {%- if block.settings.image_mobile != blank or block.settings.image_desktop != blank -%}
            <img
              width="100%"
              height="100%"
              src="{{ block.settings.image_mobile | img_url: 'master' }}"
              class="md:hidden w-full h-full object-cover"
              alt="{{ block.settings.heading | escape }}"
              loading="lazy"
            >
            <img
              width="100%"
              height="100%"
              src="{{ block.settings.image_desktop | img_url: 'master' }}"
              class="hidden md:block w-full h-full object-cover"
              alt="{{ block.settings.heading | escape }}"
              loading="lazy"
            >
          {%- else -%}
            {{ 'lifestyle-1' | placeholder_svg_tag: 'w-full h-full object-cover' }}
          {%- endif -%}
        </div>

        <div
          class="absolute top-0 left-0 w-full md:w-3/5 h-full bg-gradient-to-r md:bg-gradient-to-br from-blue-600/90 to-blue-600/70 md:to-blue-600/0"
        ></div>

        <div class="absolute top-1/2 left-1/2 md:left-1/4 transform -translate-x-1/2 -translate-y-1/2 md:translate-x-0 w-11/12 md:w-auto text-center md:text-left">
          {%- if block.settings.heading != blank -%}
            <h2 class="text-2xl md:text-4xl font-bold text-white mb-2">
              {{ block.settings.heading }}
            </h2>
          {%- endif -%}

          {%- if block.settings.subheading != blank -%}
            <p class="text-lg md:text-xl text-orange-400 mb-4">
              {{ block.settings.subheading }}
            </p>
          {%- endif -%}

          {%- if block.settings.button_text != blank and block.settings.button_link != blank -%}
            <a
              href="{{ block.settings.button_link }}"
              class="inline-flex items-center text-white hover:text-orange-400 transition-colors"
            >
              {{ block.settings.button_text }}
              <svg class="w-4 h-4 ml-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/>
              </svg>
            </a>
          {%- endif -%}
        </div>
      </div>
    {%- endfor -%}
  </div>

  <div class="swiper-button-prev !text-white">{% render 'icon-chevron-left' %}</div>
  <div class="swiper-button-next !text-white">{% render 'icon-chevron-right' %}</div>
  <div class="swiper-pagination"></div>
</div>

<script>
  document.addEventListener('DOMContentLoaded', function() {
    new Swiper('.banner-slider', {
      loop: true,
      effect: 'fade',
      fadeEffect: {
        crossFade: true
      },
      autoplay: {
        delay: 5000,
        disableOnInteraction: false
      },
      pagination: {
        el: '.swiper-pagination',
        clickable: true
      },
      navigation: {
        nextEl: '.swiper-button-next',
        prevEl: '.swiper-button-prev'
      }
    });
  });
</script>

{% schema %}
{
  "name": "Banner Slider",
  "max_blocks": 5,
  "blocks": [
    {
      "type": "slide",
      "name": "Slide",
      "settings": [
        {
          "type": "image_picker",
          "id": "image_mobile",
          "label": "Mobile Image (768px and below)"
        },
        {
          "type": "image_picker",
          "id": "image_desktop",
          "label": "Desktop Image (above 768px)"
        },
        {
          "type": "text",
          "id": "heading",
          "label": "Heading",
          "default": "SEAMLESS MANUFACTURING"
        },
        {
          "type": "text",
          "id": "subheading",
          "label": "Subheading",
          "default": "Reliable Distribution"
        },
        {
          "type": "text",
          "id": "button_text",
          "label": "Button Text",
          "default": "See more"
        },
        {
          "type": "url",
          "id": "button_link",
          "label": "Button Link"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "Banner Slider",
      "blocks": [
        {
          "type": "slide"
        }
      ]
    }
  ]
}
{% endschema %}
